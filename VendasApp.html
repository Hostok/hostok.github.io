<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>VendasApp</title>
<body>

 <script> <!-- Conectando ao Broker -->
    var wsbroker = "iot.eclipse.org"; <!-- Endereço -->
    var wsport = 1883; <!-- Porta -->
    var randomId = parseInt(Math.random() * 100, 10) <!-- Gerador de Id aleatório -->
    var client = new Paho.Client(wsbroker, wsport, "myclientid_" + randomId); <!-- Definindo cliente -->
    client.connect({onSuccess:onConnect , useSSL: true}); <!-- Verificar conexão e certificado -->
    
    function onConnect() { <!-- Ativa função de conectar ao broker -->
      client.subscribe("SENAISPTCC/40/SIMV/Vendas"); <!-- Conecta no tópico -->
      console.log("Connected!"); <!-- Confirma conexão no console -->
    }
        
    client.onMessageArrived = onMessageArrived;  <!-- Protocolo do websocket --> 
         
    function onMessageArrived(Vendas) { <!-- Ativa função de recebimento da mensagem -->
    console.log("Vendas: "+Vendas.payloadString); <!-- Envia confirmação ao console -->
    document.getElementById('Vendas').innerText = Vendas.payloadString <!-- Elemento de mensagem, enviando mensagem ao Id -->
    }
  </script>

</body>
</html>
